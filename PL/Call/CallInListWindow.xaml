<Window x:Class="PL.Call.CallInListWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="CallInListWindow" 
        Height="500" 
        Width="800"
        Loaded="Window_Loaded"
        Closed="Window_Closed"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}"
        Background="{StaticResource ButtonBlue}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="69*"/>
            <RowDefinition Height="335*"/>
            <RowDefinition Height="80*" MinHeight="80"/>
        </Grid.RowDefinitions>

        <Image Source="/picture/logo.png"
               Width="77" 
               Height="60"
               HorizontalAlignment="Left"
               VerticalAlignment="Center" 
               Margin="705,0,0,0" 
               RenderTransformOrigin="-0.455,0.5" />

        <!-- Filter and Sort Controls -->
        <!-- Filter and Sort Controls -->
        <StackPanel Orientation="Horizontal"
            Margin="70,9,0,0"
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            Height="55"
            Width="490">

            <!-- Sort By Controls -->
            <TextBlock Text="Sort By:"
               FontWeight="SemiBold"
               VerticalAlignment="Center"
               Margin="0,0,10,0"/>

            <ComboBox Width="135"
              ItemsSource="{Binding Source={StaticResource CallInListFieldCollectionKey}}"
              SelectedValue="{Binding CallInListField, Mode=TwoWay}"
              SelectionChanged="CallSelector_SelectionChanged" Height="39"/>

            <!-- Spacer -->
            <TextBlock Width="20" />

            <!-- Filter By Controls -->
            <TextBlock Text="Filter By:"
               FontWeight="SemiBold"
               VerticalAlignment="Center"
               Margin="0,0,10,0"/>

            <ComboBox Width="135"
              ItemsSource="{Binding Source={StaticResource CallStatusCollectionKey}}"
              SelectedValue="{Binding SelectedCallStatus, Mode=TwoWay}"
              SelectionChanged="OnFilterSelectionChanged"
              Height="39"/>
        </StackPanel>

        <ListView Grid.Row="1" 
                  Margin="15,5,25,10" 
                  FontFamily="Times New Roman" 
                  ItemsSource="{Binding Path=CallInList}" 
                  SelectedItem="{Binding SelectedCallforupdate}" 
                  MouseDoubleClick="CallsDataGrid_MouseDoubleClick">
            <ListView.View>
                <GridView>
                    <!-- Call ID Column -->
                    <GridViewColumn Header="Call ID" DisplayMemberBinding="{Binding CallId}">
                        <GridViewColumn.HeaderTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" 
                                           FontWeight="Bold" 
                                           FontSize="14" 
                                           Foreground="#009990" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.HeaderTemplate>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding CallId}" 
                                           Foreground="Black" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>

                    <!-- Status Column -->
                    <GridViewColumn Header="Status" DisplayMemberBinding="{Binding Status}">
                        <GridViewColumn.HeaderTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}"  
                                           Width="60" 
                                           FontWeight="Bold" 
                                           FontSize="14" 
                                           Foreground="#009990" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.HeaderTemplate>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Status}" 
                                           Foreground="Black" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>

                    <!-- Time to Finish Column -->
                    <GridViewColumn Header="Time to Finish" DisplayMemberBinding="{Binding TimeToFinish}">
                        <GridViewColumn.HeaderTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" 
                                           FontWeight="Bold" 
                                           FontSize="14" 
                                           Foreground="#009990" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.HeaderTemplate>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding TimeToFinish}" 
                                           Foreground="Black" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>

                    <!-- Treatment Duration Column -->
                    <GridViewColumn Header="Treatment Duration" DisplayMemberBinding="{Binding TreatmentDuration}">
                        <GridViewColumn.HeaderTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" 
                                           FontWeight="Bold" 
                                           FontSize="14" 
                                           Foreground="#009990" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.HeaderTemplate>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding TreatmentDuration}" 
                                           Foreground="Black" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>

                    <!-- Last Volunteer Column -->
                    <GridViewColumn Header="Last Volunteer" DisplayMemberBinding="{Binding LastVolunteerName}">
                        <GridViewColumn.HeaderTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" 
                                           FontWeight="Bold" 
                                           FontSize="14" 
                                           Foreground="#009990" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.HeaderTemplate>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding LastVolunteerName}" 
                                           Foreground="Black" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>

                    <!-- Total Assignments Column -->
                    <GridViewColumn Header="Total Assignments" DisplayMemberBinding="{Binding TotalAssignments}">
                        <GridViewColumn.HeaderTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" 
                                           FontWeight="Bold" 
                                           FontSize="14" 
                                           Foreground="#009990" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.HeaderTemplate>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding TotalAssignments}" 
                                           Foreground="Black" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>

                    <!-- Type Column -->
                    <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}">
                        <GridViewColumn.HeaderTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" 
                                           FontWeight="Bold" 
                                           FontSize="14" 
                                           Foreground="#009990" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.HeaderTemplate>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Type}" 
                                           Foreground="Black" 
                                           HorizontalAlignment="Stretch" 
                                           VerticalAlignment="Center"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>

                    <!-- Actions Column -->
                    <GridViewColumn Header="Actions">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch">
                                    <Button Content="Delete" 
                                            Click="DeleteCall_Click" 
                                            Tag="{Binding CallId}" 
                                            Foreground="#009990" 
                                            Margin="5,0"/>
                                    <Button Content="Cancel Assignment" 
                                            Click="CancelAssignment_Click" 
                                            Tag="{Binding CallId}" 
                                            Foreground="#009990" 
                                            Margin="5,0"/>
                                </StackPanel>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                </GridView>
            </ListView.View>
        </ListView>

        <!-- Bottom Buttons -->
        <Button Style="{StaticResource BackButtonStyle}" 
                Content="Back" 
                Margin="24,3,0,0" 
                Grid.Row="2" 
                Click="Button_Click" 
                Height="60" 
                Width="103"/>

        <Button Content="Add" 
                Grid.Row="2" 
                HorizontalAlignment="Left" 
                VerticalAlignment="Center" 
                Height="50" 
                Width="100" 
                Background="#2E5077" 
                Foreground="Black" 
                Click="AddCallButton_Click" 
                RenderTransformOrigin="0.15,0.4" 
                Margin="340,0,0,0"/>
    </Grid>
</Window>
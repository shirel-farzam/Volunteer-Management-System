<Window x:Class="PL.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PL"
        mc:Ignorable="d"
        Title="MainWindow" Height="600" Width="900"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}"
        Closed="Window_Closed"
        Loaded="MainWindow_Loaded">


    <!-- Main Grid Layout -->
    <Grid Background="{StaticResource BackgroundPrimary}">
        <Grid.RowDefinitions>
            <RowDefinition Height="2*" />
            <!-- System Clock Area -->
            <RowDefinition Height="2*" />
            <!-- Configuration Variables Area -->
            <RowDefinition Height="1*" />

            <!-- Navigation Buttons -->
        </Grid.RowDefinitions>
        <Image Source="picture/Logo.png"
       Width="145" Height="105"
       Stretch="Uniform"
       HorizontalAlignment="Left"
       VerticalAlignment="Top" Margin="770,9,0,0" />

        <!-- System Clock Section -->
        <Grid Grid.Row="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!-- Clock Display -->
            <Label Content="{Binding Path=CurrentTime, UpdateSourceTrigger=PropertyChanged}" 
       ContentStringFormat="{}{0:dd MMMM yyyy HH:mm}" 
       Language="he-IL" 
       HorizontalAlignment="Center" 
       VerticalAlignment="Center" 
       FontSize="20" 
       FontWeight="Bold" />



            <!-- Clock Advancement Buttons -->
            <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,19,0,1">
                <Button Content="Add One Minute" Click="AddOneMinute_Click" Padding="8,5" Margin="5" Height="82" Width="120" Style="{StaticResource ButtonHoverStyle}"
                        Background="{StaticResource ButtonBlue}" Foreground="Black"   />
                <Button Content="Add One Hour" Click="AddOneHour_Click" Padding="8,5" Margin="5" Height="82" Width="120" Style="{StaticResource ButtonHoverStyle}"
                        Background="{StaticResource ButtonBlue}" Foreground="Black" />
                <Button Content="Add One Day" Click="AddOneDay_Click" Padding="8,5" Margin="5" Height="82" Width="120" Style="{StaticResource ButtonHoverStyle}"
                        Background="{StaticResource ButtonBlue}" Foreground="Black" />
                <Button Content="Add One Month" Click="AddOneMonth_Click" Padding="8,5" Margin="5" Height="82" Width="120" Style="{StaticResource ButtonHoverStyle}"
                        Background="{StaticResource ButtonBlue}" Foreground="Black" />
                <Button Content="Add One Year" Click="AddOneYear_Click" Padding="8,5" Margin="5" Height="82" Width="120" Style="{StaticResource ButtonHoverStyle}"
                        Background="{StaticResource ButtonBlue}" Foreground="Black" />
            </StackPanel>
        </Grid>
        <StackPanel Margin="356,230,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Vertical" Grid.RowSpan="2">

            <!-- Risk Range Label -->

            <Label Content="Risk Range:"
           FontFamily="Arial"
           FontSize="14"
           Foreground="{StaticResource RiskRange}"
           FontWeight="Bold"
           HorizontalAlignment="Center"
           Margin="0,0,0,5" />

            <!-- TextBox inside a Border with rounded corners -->
            <Border Background="{StaticResource MediumGray}"
            Width="175"
            Height="33"
            CornerRadius="10"
            Margin="0,0,0,10"
            VerticalAlignment="Center">
                <TextBox Text="{Binding MaxRange, Mode=TwoWay}"
                 FontSize="16"
                
                 BorderBrush="Transparent"
                 Background="Transparent"
                 HorizontalContentAlignment="Center"
                 VerticalContentAlignment="Center" />
            </Border>
            <Button Content="Update Risk Range"
            Padding="10,5"
            Width="215"
            Style="{StaticResource ButtonHoverStyle}"
             Background="{StaticResource RiskRange}"
            Foreground="Black"
            Click="UpdateRiskRange_Click" />

            <!-- Update Button -->
        </StackPanel>

        <!-- Navigation and Volunteer Section -->
        <Grid Grid.Row="2" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="515" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="175" />
                <ColumnDefinition Width="90"/>
            </Grid.ColumnDefinitions>

            <!-- Navigation Buttons -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Grid.Column="0" Margin="158,2,0,-2">
                <Button Content="Initialize Database" Margin="10" Padding="10" Click="InitializeDatabase_Click" Width="136" 
                        Background="{StaticResource LightBlue}" Foreground="Black" Style="{StaticResource ButtonHoverStyle}" />
                <Button Content="Reset Database" Margin="10" Padding="10" Click="ResetDatabase_Click" Width="136" 
                        Background="{StaticResource LightBlue}" Foreground="Black"  Style="{StaticResource ButtonHoverStyle}"/>
            </StackPanel>

            <!-- List Volunteers Button -->
            <Button Content="Handle Volunteers" Padding="10" 
        Click="btnVolunteer_Click" Height="80"  Width="150" 
        Background="{StaticResource DarkBlue}" Foreground="White" Grid.Column="2"  HorizontalAlignment="Left" 
 VerticalAlignment="Top" Margin="115,-136,0,0" Grid.ColumnSpan="2" />

            <!-- List Calls Button -->
            <Button Content="Handle Calls" 
        Margin="115,-243,0,0" Padding="15" 
        Click="ListCall_Click" Height="80"  Width="150"
        Grid.Column="2"  HorizontalAlignment="Left" VerticalAlignment="Top" 
        Background="{StaticResource DarkBlue}" Foreground="White" Grid.ColumnSpan="2" />

            <Button Content="Simulator" 
        Margin="113,22,0,0" 
        Padding="10" 
        Click="StartSimulator_Click" 
        Width="150"
        Height="50"  
        Style="{StaticResource RoundedButtonStyle}" 
        Background="{StaticResource Simulator}"
        Foreground="White" 
        Grid.Column="2" 
        HorizontalAlignment="Left" 
        VerticalAlignment="Top" Grid.ColumnSpan="2" />

        </Grid>

        <!-- Status Panel -->
        <Border 
                Background="{StaticResource LightBlue}"
                CornerRadius="10" 
                Margin="5,217,625,5" Grid.RowSpan="2">
            <Grid Margin="15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="7*"/>
                    <ColumnDefinition Width="17*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Headers -->
                <Grid Grid.Row="0" Margin="0,0,0,10" Grid.ColumnSpan="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="Status" 
                             FontWeight="Bold" 
                             FontSize="16"
                             Foreground="#333333"/>
                    <TextBlock Text="Count" 
                             Grid.Column="1" 
                             FontWeight="Bold" 
                             FontSize="16"
                             Foreground="#333333"/>
                </Grid>

                <!-- Status Items -->
                <ItemsControl Grid.ColumnSpan="2" Margin="0,31,0,0" Grid.RowSpan="2">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Grid Margin="0,5" >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                            </Grid>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Open" Margin="5"/>
                        <TextBlock Text="{Binding CountCall[0]}" Grid.Column="1" Margin="5"/>
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Treat" Margin="5"/>
                        <TextBlock Text="{Binding CountCall[1]}" Grid.Column="1" Margin="5"/>
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Close" Margin="5"/>
                        <TextBlock Text="{Binding CountCall[2]}" Grid.Column="1" Margin="5"/>
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Expired" Margin="5"/>
                        <TextBlock Text="{Binding CountCall[3]}" Grid.Column="1" Margin="5"/>
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="RiskOpen" Margin="5,5,5,-6"/>
                        <TextBlock Text="{Binding CountCall[4]}" Grid.Column="1" Margin="5"/>
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="TreatInRisk" Margin="5"/>
                        <TextBlock Text="{Binding CountCall[5]}" Grid.Column="1" Margin="5"/>
                    </Grid>
                </ItemsControl>
            </Grid>
        </Border>
        <Button Style="{StaticResource BackButtonStyle}" Content="Back" Margin="24,35,0,0" Grid.Row="2" Click="Button_Click" />
    </Grid>
</Window>
